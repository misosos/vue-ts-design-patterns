<template>
  <div>
    <h2>Singleton Pattern Example : Static block initialization </h2>
  </div>
</template>

<script lang="ts">

class Singleton{
  private static instance: Singleton;

  private constructor() {}

  static {
    try {
      Singleton.instance = new Singleton();
      console.log("âœ… ì‹±ê¸€í†¤ ì¸ìŠ¤í„´ìŠ¤ê°€ ì •ìƒì ìœ¼ë¡œ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤.");
    } catch (error) {
      throw new Error("ì‹±ê¸€í†¤ ê°ì²´ ìƒì„± ì˜¤ë¥˜");
    }
  }

  public static getInstance() : Singleton {
    return Singleton.instance;
  }

  public greet(): void {
    console.log("ì•ˆë…•í•˜ì„¸ìš”! ì €ëŠ” static blockìœ¼ë¡œ ìƒì„±ëœ ì‹±ê¸€í†¤ì…ë‹ˆë‹¤ ğŸ‘‹");
  }
}
export default {
  name: 'StaticBlockSingleton',

  setup() {

    const s1 = Singleton.getInstance();
    const s2 = Singleton.getInstance();

    s1.greet();

    console.log(s1 === s2);
  }
}
</script>

<style scoped>

</style>